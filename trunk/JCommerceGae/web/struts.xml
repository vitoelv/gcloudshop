<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <constant name="struts.objectFactory" value="spring" />
    <constant name="struts.devMode" value="true" />
    <include file="example.xml"/>
	<package name="shop" namespace="/web" extends="struts-default">
	   	<global-results>
      		<!-- result name="message" type="redirectAction">message</result-->
      		<result name="message" type="freemarker">/web/front/message.ftl</result>
   		</global-results>
	
		<action name="home" method="execute" class="homeAction">
			<result name="success" type="freemarker">/web/front/index.ftl</result>
		</action>
		
		<action name="goods" method="execute" class="goodsAction">
			<result name="success" type="freemarker">/web/front/goods.ftl</result>
			<result name="error" type="redirectAction">home</result>
			<result name="price" type="stream">
     			<param name="contentType">application/json</param>
     			<param name="inputName">jsonRes</param>
   			</result>
		</action>
		<action name="flow" method="execute" class="flowAction">
			<result name="success" type="freemarker">/web/front/flow.ftl</result>
			<result name="error" type="redirectAction">home</result>
			<result name="addToCart" type="stream">
     			<param name="contentType">application/json</param>
     			<param name="inputName">jsonRes</param>
   			</result>
   			<result name="selectShipping" type="stream">
     			<param name="contentType">application/json</param>
     			<param name="inputName">jsonRes</param>
   			</result>
   			<result name="selectPayment" type="stream">
     			<param name="contentType">application/json</param>
     			<param name="inputName">jsonRes</param>
   			</result>			
		</action>
		<action name="category" method="execute" class="categoryAction">
			<result name="success" type="freemarker">/web/front/category.ftl</result>
			<result name="error" type="redirectAction">home</result>
		</action>
		<action name="brand" method="execute" class="brandAction">
			<result name="success" type="freemarker">/web/front/brand.ftl</result>
			<result name="brandList" type="freemarker">/web/front/brand_list.ftl</result>
			<result name="error" type="redirectAction">home</result>
		</action>
		<action name="region" method="execute" class="regionAction">
			<result name="success" type="stream">
				<param name="contentType">application/json</param>
     			<param name="inputName">jsonRes</param>
   			</result>
		</action>
		<action name="comment" method="execute" class="commentAction">
			<result name="success" type="stream">
				<param name="contentType">application/json</param>
     			<param name="inputName">jsonRes</param>
   			</result>
		</action>		
		<action name="user" method="execute" class="userAction">
			<result name="user_clips" type="freemarker">/web/front/user_clips.ftl</result>
			<result name="user_passport" type="freemarker">/web/front/user_passport.ftl</result>
			<result name="user_transaction" type="freemarker">/web/front/user_transaction.ftl</result>
			<result name="is_registered" type="stream">
     			<param name="contentType">html/text</param>
     			<param name="inputName">isRegistered</param>
   			</result>
   			<result name="check_email" type="stream">
     			<param name="contentType">html/text</param>
     			<param name="inputName">isUsed</param>
   			</result>
   			<result name="collect" type="stream">
     			<param name="contentType">application/json</param>
     			<param name="inputName">collectGoods</param>
   			</result>
   			<result name="return_to_cart" type="stream">
     			<param name="contentType">application/json</param>
     			<param name="inputName">returnToCart</param>
   			</result>
			<result name="error" type="redirectAction">home</result>
		</action>
		<action name="message" method="execute" class="messageAction">
			<result name="success" type="freemarker">/web/front/message.ftl</result>
			<result name="error" type="redirectAction">home</result>
		</action>	
		<action name="article" method="execute" class="articleAction">
			<result name="success" type="freemarker">/web/front/article.ftl</result>
			<result name="error" type="redirectAction">home</result>
		</action>
		<action name="captcha" method="execute" class="captchaAction">
			<result name="success" type="stream" >
				<param name="contentType">image/JPEG</param>
				<param name="inputName">output</param>
			</result>
		</action>
		<action name="search" method="execute" class="searchAction">
			<result name="success" type="freemarker">/web/front/search.ftl</result>
			<result name="error" type="redirectAction">home</result>
		</action>		
	</package>
</struts>


